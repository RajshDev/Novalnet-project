<!DOCTYPE html>
<html lang="en">
{{>header}}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200&display=swap" rel="stylesheet">
<script src="https://kit.fontawesome.com/486e2c38aa.js" crossorigin="anonymous"></script>
  <script>
      var cap = "captcha"
       var onloadCallback = function(){
         captcha1 =   grecaptcha.render(cap,{"sitekey":"6Lc6EpMkAAAAAJd-HZUerzcGLkaEmYh5cntX_XQ_","theme":"light"})
       }
      </script>
<body>
    {{> navbar   }}
    <div class="container">
      <div class="text">User Login</div>
        {{#if msg}}
      <p class="{{msg_type}}">{{msg}}</p>
      {{/if}}
      <form action="/auth/login" method="post">
        <div class="data">
          <label for="email">Email</label>
          <input type="email" name="email" id="email" />
        </div>
        <div class="data">
          <label for="password">Password</label>
          <input type="password" name="password" id="password" />
        </div>
        <div class="forgot-pass">
          <a href="#">Forgot Password?</a>
        </div>
        <div class="btn">
          <button  class="btn" type="submit">login</button>
        </div>
        <br/>
        <div class="container-captcha">
            <div id="captcha"></div>
            <span class="err-captcha"><i class="fas fa-exclamation-circle">         
            
        </div>    

        <div class="signup-link">
          Not a member? <a href="/register">Signup now</a>
        </div>
      </form>
    </div>
       <script type="text/javascript">
    const btn = document.querySelector(".btn")
    btn.addEventListener("click",Validate)
      function Validate(event){
         console.log(event)
          event.preventDefault()
          const inpElem = document.querySelectorAll(".inp-elem")
          const errUsername = document.querySelector(".err-username")
          const errPassword = document.querySelector(".err-password")
          const captchaErr = document.querySelector(".err-captcha")
        console.log(inpElem[0].value)
              if(inpElem[0].value== null || inpElem[0].value== undefined || inpElem[0].value==""){
                  errUsername.style.opacity="1"

              }
              else{
                errUsername.style.opacity="0" 
              }
              if(inpElem[1].value==null||inpElem[1].value==null|| inpElem[1].value==""){
                errPassword.style.opacity="1"
              }
              else{
                errPassword.style.opacity="0" 
              }
                 console.log(grecaptcha.getResponse(captcha1))
             if(grecaptcha.getResponse(captcha1)==""){
                 alert("Please check out the captcha")
             }
             else{
                 alert("verified sucessfully ")
             }
             
          }
         
        
    </script>
    <script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit"></script>
</body>
</html>